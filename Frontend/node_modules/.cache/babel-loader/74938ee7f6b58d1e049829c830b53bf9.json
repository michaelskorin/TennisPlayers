{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/michaelskorin/Desktop/Web Development/TennisPlayers/tennis-players/Frontend/src/players/pages/PlayerDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport Button from '../../shared/components/FormElements/Button';\nimport Card from '../../shared/components/UIElements/Card';\nimport Modal from '../../shared/components/UIElements/Modal';\nimport './PlayerDetails.css';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport { AuthContext } from '../../shared/context/auth-context';\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\n\nconst PlayerDetails = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [showModal, setShowModal] = useState(false);\n  const [loadedPlayer, setLoadedPlayer] = useState();\n  const {\n    isLoading,\n    sendRequest,\n    error,\n    clearError\n  } = useHttpClient();\n  const playerId = useParams().pid;\n  useEffect(() => {\n    const fetchPlayer = async () => {\n      try {\n        const responseData = await sendRequest(`${process.env.REACT_APP_PLAYERS_BACKEND_URL}/player/${playerId}`);\n        setLoadedPlayer(responseData.player);\n      } catch (error) {}\n    };\n\n    fetchPlayer();\n  }, [playerId, sendRequest]);\n\n  const showDeleteWarning = () => {\n    setShowModal(true);\n  };\n\n  const cancelDeleteHandler = () => {\n    setShowModal(false);\n  };\n\n  const deletePlayer = async () => {\n    try {\n      await sendRequest(`${process.env.REACT_APP_PLAYERS_BACKEND_URL}/delete/${playerId}`, 'DELETE', null, {\n        Authorization: 'Bearer ' + auth.token // add auth token\n\n      });\n    } catch (error) {}\n\n    history.push('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ErrorModal, {\n      error: error,\n      onClear: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        asOverlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onCancel: cancelDeleteHandler,\n      header: \"Are You Sure?\",\n      footerClass: \"player-item__modal-actions\",\n      footer: /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          inverse: true,\n          onClick: cancelDeleteHandler,\n          children: \"CANCEL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          danger: true,\n          onClick: deletePlayer,\n          children: \"DELETE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Are you sure you want to delete this player? Please note that it can't be undone.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), !isLoading && loadedPlayer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"player-item__content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item__image\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${process.env.REACT_APP_ASSET_URL}/${loadedPlayer.image}`,\n            alt: loadedPlayer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item__info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: loadedPlayer.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: loadedPlayer.country\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Age: \", loadedPlayer.age]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Grand Slam titles: \", loadedPlayer.grand_slams]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Current ATP rank: \", loadedPlayer.ranking]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Current ATP points: \", loadedPlayer.points]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-item__actions\",\n          children: [auth.isLoggedIn && /*#__PURE__*/_jsxDEV(Button, {\n            to: `/players/update/${playerId}`,\n            children: \"EDIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this), auth.isLoggedIn && /*#__PURE__*/_jsxDEV(Button, {\n            onClick: showDeleteWarning,\n            danger: true,\n            children: \"DELETE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), !isLoading && !loadedPlayer && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"card-medium\",\n        children: \"No player found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlayerDetails, \"ss89JpH7fL44xhwaXw5zLMf+/vo=\", false, function () {\n  return [useHistory, useHttpClient, useParams];\n});\n\n_c = PlayerDetails;\nexport default PlayerDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayerDetails\");","map":{"version":3,"sources":["/Users/michaelskorin/Desktop/Web Development/TennisPlayers/tennis-players/Frontend/src/players/pages/PlayerDetails.js"],"names":["React","useState","useEffect","useContext","useParams","useHistory","Button","Card","Modal","useHttpClient","AuthContext","LoadingSpinner","ErrorModal","PlayerDetails","auth","history","showModal","setShowModal","loadedPlayer","setLoadedPlayer","isLoading","sendRequest","error","clearError","playerId","pid","fetchPlayer","responseData","process","env","REACT_APP_PLAYERS_BACKEND_URL","player","showDeleteWarning","cancelDeleteHandler","deletePlayer","Authorization","token","push","REACT_APP_ASSET_URL","image","name","country","age","grand_slams","ranking","points","isLoggedIn"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\n\nimport Button from '../../shared/components/FormElements/Button';\nimport Card from '../../shared/components/UIElements/Card';\nimport Modal from '../../shared/components/UIElements/Modal';\nimport './PlayerDetails.css';\nimport { useHttpClient } from '../../shared/hooks/http-hook';\nimport { AuthContext } from '../../shared/context/auth-context';\n\nimport LoadingSpinner from '../../shared/components/UIElements/LoadingSpinner';\nimport ErrorModal from '../../shared/components/UIElements/ErrorModal';\n\nconst PlayerDetails = () => {\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const [showModal, setShowModal] = useState(false);\n  const [loadedPlayer, setLoadedPlayer] = useState();\n  const { isLoading, sendRequest, error, clearError } = useHttpClient();\n\n  const playerId = useParams().pid;\n\n  useEffect(() => {\n    const fetchPlayer = async () => {\n      try {\n        const responseData = await sendRequest(\n          `${process.env.REACT_APP_PLAYERS_BACKEND_URL}/player/${playerId}`\n        );\n        setLoadedPlayer(responseData.player);\n      } catch (error) {}\n    };\n    fetchPlayer();\n  }, [playerId, sendRequest]);\n\n  const showDeleteWarning = () => {\n    setShowModal(true);\n  };\n\n  const cancelDeleteHandler = () => {\n    setShowModal(false);\n  };\n\n  const deletePlayer = async () => {\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_PLAYERS_BACKEND_URL}/delete/${playerId}`,\n        'DELETE',\n        null,\n        {\n          Authorization: 'Bearer ' + auth.token, // add auth token\n        }\n      );\n    } catch (error) {}\n    history.push('/');\n  };\n\n  return (\n    <React.Fragment>\n      <ErrorModal error={error} onClear={clearError} />\n      {isLoading && (\n        <div className=\"center\">\n          <LoadingSpinner asOverlay />\n        </div>\n      )}\n      <Modal\n        show={showModal}\n        onCancel={cancelDeleteHandler}\n        header=\"Are You Sure?\"\n        footerClass=\"player-item__modal-actions\"\n        footer={\n          <React.Fragment>\n            <Button inverse onClick={cancelDeleteHandler}>\n              CANCEL\n            </Button>\n            <Button danger onClick={deletePlayer}>\n              DELETE\n            </Button>\n          </React.Fragment>\n        }\n      >\n        <p>\n          Are you sure you want to delete this player? Please note that it can't\n          be undone.\n        </p>\n      </Modal>\n      {!isLoading && loadedPlayer && (\n        <div className=\"player-wrapper\">\n          <Card className=\"player-item__content\">\n            <div className=\"player-item__image\">\n              <img\n                src={`${process.env.REACT_APP_ASSET_URL}/${loadedPlayer.image}`}\n                alt={loadedPlayer.name}\n              />\n            </div>\n            <div className=\"player-item__info\">\n              <h1>{loadedPlayer.name}</h1>\n              <h2>{loadedPlayer.country}</h2>\n              <p>Age: {loadedPlayer.age}</p>\n              <p>Grand Slam titles: {loadedPlayer.grand_slams}</p>\n              <p>Current ATP rank: {loadedPlayer.ranking}</p>\n              <p>Current ATP points: {loadedPlayer.points}</p>\n            </div>\n            <div className=\"player-item__actions\">\n              {auth.isLoggedIn && (\n                <Button to={`/players/update/${playerId}`}>EDIT</Button>\n              )}\n              {auth.isLoggedIn && (\n                <Button onClick={showDeleteWarning} danger>\n                  DELETE\n                </Button>\n              )}\n            </div>\n          </Card>\n        </div>\n      )}\n      {!isLoading && !loadedPlayer && (\n        <div className=\"center\">\n          <Card className=\"card-medium\">No player found.</Card>\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default PlayerDetails;\n"]},"metadata":{},"sourceType":"module"}